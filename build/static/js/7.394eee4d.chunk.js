(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[7],{52:function(t,e,n){t.exports={auth:"AuthForm_auth__1Yir_",control:"AuthForm_control__1PPT8",actions:"AuthForm_actions__JREhA",toggle:"AuthForm_toggle__KRR3s"}},58:function(t,e,n){"use strict";n.r(e);var c=n(13),o=n(1),i=n(2),s=n(10),a=n(52),r=n.n(a),l=n(0),u=function(){var t=Object(i.g)(),e=Object(o.useRef)(),n=Object(o.useRef)(),a=Object(o.useContext)(s.b),u=Object(o.useState)(!0),j=Object(c.a)(u,2),h=j[0],d=j[1],b=Object(o.useState)(!1),p=Object(c.a)(b,2),g=p[0],O=p[1],m=Object(o.useState)(""),f=Object(c.a)(m,2),x=f[0],w=f[1];return Object(l.jsxs)("section",{className:r.a.auth,children:[Object(l.jsx)("h1",{children:h?"Login":"Sign Up"}),Object(l.jsxs)("form",{onSubmit:function(c){c.preventDefault();var o,i=e.current.value,s=n.current.value;return 0===i.trim().length||0===s.trim().length?w("Please enter a valid email and password!"):s.trim().length<7?w("Please enter a 7 digit password"):(O(!0),o=h?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCYoGhEjElS7Ydg9rtOo2TAF9EahWjtZU8":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCYoGhEjElS7Ydg9rtOo2TAF9EahWjtZU8",void fetch(o,{method:"POST",body:JSON.stringify({email:i,password:s,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){return O(!1),t.ok?t.json():t.json().then((function(t){throw new Error("Authentication failed!")}))})).then((function(e){a.login(e.idToken),t.replace("/profile")})).catch((function(t){alert(t.message)})))},children:[Object(l.jsxs)("div",{className:r.a.control,children:[Object(l.jsx)("label",{htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{type:"email",id:"email",ref:e})]}),Object(l.jsxs)("div",{className:r.a.control,children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",id:"password",ref:n}),x&&Object(l.jsx)("p",{children:x})]}),Object(l.jsxs)("div",{className:r.a.actions,children:[!g&&Object(l.jsx)("button",{children:h?"Login":"Create Account"}),g&&Object(l.jsx)("p",{children:"Sending request..."}),Object(l.jsx)("button",{type:"button",className:r.a.toggle,onClick:function(){d((function(t){return!t}))},children:h?"Create new account":"Login with existing account"})]})]})]})};e.default=function(){return Object(l.jsx)(u,{})}}}]);
//# sourceMappingURL=7.394eee4d.chunk.js.map